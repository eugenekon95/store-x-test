<div class="container mt-5 pb-5">

  <div class="row">

    <div class="col-lg-3">
      <%= render 'shared/categories' %>
      <div class="row">
        <div class="col-12">
          <div class="form-row align-items-center">
            <%= form_with url: products_path, html: {class: "form-group"}, method: :get, local: true do |f| %>
              <div class="col-auto my-1">
                <label class="mr-sm-2" for="inlineFormCustomSelect">Sort products</label>
                <%= f.select :filter, %w[LowPrice HighPrice Alphabetical], class: "custom-select mr-sm-2",
                             id: "inlineFormCustomSelect" %>
              </div>
              <div class="col-auto my-1">
                <%= f.submit "Submit", class: 'btn btn-danger', type: "submit" %>
              </div>
            <% end %>
          </div>

          <div class="form-row align-items-center">
            <%= form_with url: products_path, html: {class: "form-group"}, method: :get, local: true do |f| %>
              <div class="col-auto my-1">
                <label class="mr-sm-2" for="inlineFormCustomSelect">Price range</label>

                <%= f.number_field :min, value: 0, class: "col-auto form-control mr-sm-2 my-1",
                                   placeholder: "min price", id: "inlineFormCustomSelect" %>

                <%= f.number_field :max, value: Product.all.map(&:price).max.round,
                                   class: "col-auto form-control mr-sm-2 my-1",
                                   placeholder: "max price", id: "inlineFormCustomSelect" %>
              </div>

              <div class="col-auto my-1">
                <%= f.submit "Submit", class: 'mt-2 btn btn-danger', type: "submit" %>
              </div>
            <% end %>
          </div>
        </div>
      </div>
    </div>

    <div class="col-lg-9">
      <%= render 'shared/carousel' %>
      <div class="row">
        <%= render 'products/product' %>
        <div class="col-lg-12 mt-5 mb-5">
          <%= will_paginate @products, list_classes: %w(pagination justify-content-center mb-5) %>
        </div>
      </div>
    </div>

  </div>
</div>
